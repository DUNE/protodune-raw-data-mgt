digraph pdrnotifier {
	label="Direct FTS/FIFO Read Design";
	rankdir=LR;
	
	processes[label="Process"];
	file[label="File or\nnetwork",shape=box];
	server[label="Server",shape=octagon];


	daq1[label="DAQ EB1"];
	daq2[label="DAQ EB2"];
	daqn[label="DAQ EBN"];
	

	fifo[shape=box,label="FIFO",color=red];
	
	xrootdrdr[shape=octagon,label="XRootD\nredirector",color=red]
	xrootd[shape=octagon,label="XRootD\nserver N",color=red]
	eos[shape=octagon,label="EOS"]

	fts[shape=octagon,label="F-FTS",color="blue"];
	sam[shape=octagon,label="SAM",color="orange"];

	{rank="same"; xrootdrdr; xrootd; eos}
	

	daq1->xrootdrdr[style=dashed];
	xrootdrdr->xrootd[style=dashed];

	daq1->xrootd[label="TFile::Open()"];
	daq2->xrootd[label="xrdcp"];
	daqn->xrootd[label="..."];

	xrootd->fifo[label="file state"];
	fifo->fts[label="select()/poll()"];

	fts->xrootdrdr[label="xrdcp --tpc"];
	fts->sam[label="update"];
	
	xrootd->eos[label="transfer"];
}